<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Posts &middot; re-imagine</title>

    <meta name="description" content="my life is the sum of my imagination">

    <meta name="generator" content="Hugo 0.15" />
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="tmak_tw" />
    <meta name="twitter:title" content="Posts &middot; re-imagine">
    <meta name="twitter:description" content="my life is the sum of my imagination">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Posts &middot; re-imagine">
    <meta property="og:description" content="my life is the sum of my imagination">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
    <!--<![endif]-->

    <link rel="stylesheet" href="http://torumakabe.github.io//css/all.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="re-imagine" href="http://torumakabe.github.io//index.xml" />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="http://torumakabe.github.io/">re-imagine</a></h1>
            <h2 class="brand-tagline"> my life is the sum of my imagination </h2>
        </hgroup>

        <nav class="nav">
            <ul class="nav-list">
                
                <li class="nav-item">
                    <a class="pure-button" href="https://twitter.com/tmak_tw"><i class="fa fa-twitter"></i> Twitter</a>
                </li>
                
                
                <li class="nav-item">
                    <a class="pure-button" href="https://github.com/ToruMakabe "><i class="fa fa-github-alt"></i> github</a>
                </li>
                
                <li class="nav-item">
                    <a class="pure-button" href="http://torumakabe.github.io//index.xml"><i class="fa fa-rss"></i> rss</a>
                </li>
            </ul>
        </nav>
    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                
                <h1 class="content-subhead">05 May 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://torumakabe.github.io/post/vagrant-hpcloud/" class="post-title">Vagrant HP Public Cloud Pluginã‚’è©¦ã™</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<h3 id="ã¿ã‚“ãªå¤§å¥½ãhashicorp:eaab8f236553d8374ac2c6f2b8524183">ã¿ã‚“ãªå¤§å¥½ãHashiCorp</h3>

<p>ã‚¯ãƒ©ã‚¦ãƒ‰ç•Œéšˆã®ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã‹ã‚‰ç†±ãæ³¨ç›®ã•ã‚Œã¦ã„ã‚‹HashiCorpã€‚<a href="http://www.packer.io/">Packer</a>ã€<a href="http://www.serfdom.io/">Serf</a>ã€<a href="http://www.consul.io/">Consul</a>ã¨ç«‹ã¦ç¶šã‘ã«ã‚¤ã‚«ã—ã¦ã‚‹è£½å“ã‚’ãƒªãƒªãƒ¼ã‚¹ã—ã¦ãŠã‚Šã¾ã™ã€‚ã¾ã‚å°ç”Ÿã¯ã€æ­£ç›´ãªã¨ã“ã‚Consulã‚ãŸã‚Šã‹ã‚‰ç½®ã„ã¦ã‹ã‚Œã¦ã¾ã™ãŒã€‚ã§ã‚‚ã€ã‚„ã¯ã‚Šä»£è¡¨ä½œã¯<a href="http://www.vagrantup.com/">Vagrant</a>ã§ã—ã‚‡ã†ã€‚vagrant up! vagrant destroy! ã„ã‚„ãƒ¼æ°—è»½ã§ã„ã„ã§ã™ã­ã€‚</p>

<p>Vagrantã¯ãƒ­ãƒ¼ã‚«ãƒ«ã®VirtualBoxã‚„VMwareã®ä»–ã«ã€Providerã¨ã—ã¦ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¯ãƒ©ã‚¦ãƒ‰ã‚’é¸æŠã§ãã‚‹ã®ã‚‚é­…åŠ›ã§ã™ã€‚ãã“ã§å½“ã‚¨ãƒ³ãƒˆãƒªã§ã¯HP Public Cloudå‘ã‘ã®Vagrant Pluginã‚’è©¦ã—ã¦ã¿ã¾ã™ã€‚</p>

<h3 id="å‰ææ¡ä»¶:eaab8f236553d8374ac2c6f2b8524183">å‰ææ¡ä»¶</h3>

<ul>
<li>Vagrant 1.5.4</li>
<li>vagrant-hp 0.1.4</li>
<li>HP Public Cloud (2014/5/5)</li>
</ul>

<h3 id="ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨å‰æº–å‚™:eaab8f236553d8374ac2c6f2b8524183">ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨å‰æº–å‚™</h3>

<p><a href="https://github.com/mohitsethi/vagrant-hp">Github</a>ã‚’è¦‹ã¦ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨boxãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆã‚’è¡Œã£ã¦ãã ã•ã„ã€‚boxãƒ•ã‚¡ã‚¤ãƒ«ãŒãªã„çŠ¶æ…‹ã§vagrant upã™ã‚‹ã¨æ€’ã‚‰ã‚Œã¾ã™ã€‚</p>

<h3 id="ã§ã¯vagrantfileã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†:eaab8f236553d8374ac2c6f2b8524183">ã§ã¯Vagrantfileã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†</h3>

<script type="text/javascript" src="http://gist.github.com/25a33c679492676bb626.js"></script>

<p>ã“ã‚ŒãŒã‚ãŸã—ãŒä½œã£ãŸVagrantfileã§ã™ã€‚è¦‹ã¦ã®é€šã‚Šã§ã™ãŒã€ä»¥ä¸‹ã«è£œè¶³ã—ã¾ã™ã€‚2014/5/5æ™‚ç‚¹ã€<a href="https://github.com/mohitsethi/vagrant-hp">Github</a>ã®èª¬æ˜ã«ã¯è‹¥å¹²ã®ãƒˆãƒ©ãƒƒãƒ—ãŒã‚ã‚Šã¾ã™ã®ã§ã”æ³¨æ„ã‚’ã€‚</p>

<ul>
<li>ã‚¤ãƒ¡ãƒ¼ã‚¸ã«Ubuntu 14.04 LTSã‚’ä½¿ã†ä¾‹ã§ã™ã€‚</li>
<li>Availability Zoneãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã¯ã€Regionã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚ãŠã£ã·ã€‚ã“ã“ã§ã¡ã‚‡ã„ãƒãƒã£ãŸã€‚</li>
<li>Security Groupã¯ä»»æ„ã§ã™ãŒã€sshã—ãŸã„å ´åˆã¯sshã‚’é€šã™Security Groupã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚</li>
<li>Floating IPã¯ä»»æ„ã§ã™ãŒã€å¤–éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‹ã‚‰sshã—ãŸã„ã¨ãã¯å¿…é ˆã§ã™ã€‚</li>
<li>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æŒ‡å®šã¯ä»»æ„ã§ã™ãŒã€è¤‡æ•°ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’æœ‰ã—ã¦ã„ã‚‹å ´åˆã¯ã€ã„ãšã‚Œã‹æŒ‡å®šã—ã¦ãã ã•ã„ã€‚</li>
</ul>

<h3 id="ãã‚Œã§ã¯ã•ã£ããvagrant-up:eaab8f236553d8374ac2c6f2b8524183">ãã‚Œã§ã¯ã•ã£ããvagrant up</h3>

<pre><code>$ vagrant up --provider=hp
Bringing machine 'default' up with 'hp' provider...
WARNING: Nokogiri was built against LibXML version 2.8.0, but has dynamically loaded 2.9.1
==&gt; default: Warning! The HP provider doesn't support any of the Vagrant
==&gt; default: high-level network configurations (`config.vm.network`). They
==&gt; default: will be silently ignored.
==&gt; default: Finding flavor for server...
==&gt; default: Finding image for server...
==&gt; default: Finding floating-ip...
==&gt; default: Launching a server with the following settings...
==&gt; default:  -- Flavor: standard.xsmall
==&gt; default:  -- Image: Ubuntu Server 14.04 LTS (amd64 20140416.1) - Partner Image
==&gt; default:  -- Name: hogehoge
==&gt; default:  -- Key-name: your_keypair_name
==&gt; default:  -- Security Groups: [&quot;default&quot;, &quot;http&quot;]
==&gt; default: Finding network...
==&gt; default: Waiting for the server to be built...
==&gt; default: Waiting for SSH to become available...
==&gt; default: Machine is booted and ready for use!
==&gt; default: Rsyncing folder: /your_path/data/ =&gt; /vagrant/data
</code></pre>

<p>ã§ããŸã£ã½ã„ã€‚&ndash;provider=hpã‚’å¿˜ã‚Œãšã«ã€‚</p>

<h3 id="é–“é«ªå…¥ã‚Œãšã«vagrant-ssh:eaab8f236553d8374ac2c6f2b8524183">é–“é«ªå…¥ã‚Œãšã«vagrant ssh</h3>

<pre><code>$ vagrant ssh
WARNING: Nokogiri was built against LibXML version 2.8.0, but has dynamically loaded 2.9.1
Welcome to Ubuntu 14.04 LTS (GNU/Linux 3.13.0-24-generic x86_64)

* Documentation:  https://help.ubuntu.com/

System information disabled due to load higher than 1.0

Get cloud support with Ubuntu Advantage Cloud Guest:
    http://www.ubuntu.com/business/services/cloud

0 packages can be updated.
0 updates are security updates.


ubuntu@hogehoge:~$ ls /vagrant/data
test.txt
</code></pre>

<p>ãƒ•ã‚©ãƒ«ãƒ€åŒæœŸã‚‚åŠ¹ã„ã¦ã¾ã™ã­ã€‚ã‚“ãƒ¼ã€æ¥½ã¡ã‚“ã€‚</p>

<p>ãã‚Œã§ã¯ãŠæ¥½ã—ã¿ä¸‹ã•ã„ã€‚</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">01 May 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://torumakabe.github.io/post/OpenStack-3primer/" class="post-title">OpenStackè¶…å…¥é–€ã‚·ãƒªãƒ¼ã‚º åˆæœŸ3éƒ¨ä½œå®Œçµ</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<h3 id="ã‚ˆãèã‹ã‚Œã‚‹ã“ã¨ã‚’ã¾ã¨ã‚ã¾ã—ãŸ:05fdcc29da710e097e2f23b56c9852e1">ã‚ˆãèã‹ã‚Œã‚‹ã“ã¨ã‚’ã¾ã¨ã‚ã¾ã—ãŸ</h3>

<p>ã²ã¨ã¾ãšã€åˆæœŸ3éƒ¨ä½œå®Œçµã€‚ã¾ãŸæ›¸ãã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p>

<ul>
<li><a href="http://www.slideshare.net/ToruMakabe/openstack-nova">OpenStackè¶…å…¥é–€ã‚·ãƒªãƒ¼ã‚º ã„ã¾ã•ã‚‰èã‘ãªã„ Novaã®ãƒ‡ã‚£ã‚¹ã‚¯å‘¨ã‚Š</a></li>
<li><a href="http://www.slideshare.net/ToruMakabe/openstack-32905609">OpenStackè¶…å…¥é–€ã‚·ãƒªãƒ¼ã‚º ã„ã¾ã•ã‚‰èã‘ãªã„ Swiftã®ä½¿ã„æ–¹</a></li>
<li><a href="http://www.slideshare.net/ToruMakabe/openstack-neutron">OpenStackè¶…å…¥é–€ã‚·ãƒªãƒ¼ã‚º ã„ã¾ã•ã‚‰èã‘ãªã„ Neutronã®ä½¿ã„æ–¹</a></li>
</ul>

                    </div>
                </section>
                
                <h1 class="content-subhead">13 Apr 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://torumakabe.github.io/post/cloud-vacancy/" class="post-title">ã†ã¡ã®ã‚¯ãƒ©ã‚¦ãƒ‰ã€ç©ºã„ã¦ã¾ã™</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<h3 id="ç„¡é™ãªã‚“ã¦ã‚ã‚Šå¾—ãªã„:541a755ba62f6cb5bf4c824c3fbd2582">ç„¡é™ãªã‚“ã¦ã‚ã‚Šå¾—ãªã„</h3>

<p>ã€ŒãŠå®¢æ§˜ã¯ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ã®ã“ã¨ã‚’æ°—ã«ã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚äº‹å®Ÿä¸Šç„¡é™ã€ãã‚ŒãŒã‚¯ãƒ©ã‚¦ãƒ‰ã®ãƒ¡ãƒªãƒƒãƒˆã§ã™ï¼ï¼ã€ãªã‚“ã¦ã„ã†ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã®ã†ãŸã„æ–‡å¥ã€ã‘ã£ã“ã†ç›®ã«ã—ã¾ã™ã€‚</p>

<p>ãã®ã„ã£ã½ã†ã§ã€ã€Œ1000å°ã®ã‚µãƒ¼ãƒãƒ¼ã‚’1æ™‚é–“ã ã‘ä½¿ã£ã¦ã€æ–™é‡‘ã¯æ•°ä¸‡å††ã§æ¸ˆã¿ã¾ã—ãŸã€ã¨ã„ã†äº‹ä¾‹ã‚’ã‚¢ãƒ”ãƒ¼ãƒ«ã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã®ã€åˆ¥ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œã“ã®å‰ã€æ•°10å°ã®ã‚µãƒ¼ãƒãƒ¼è¿½åŠ ã‚’ä¾é ¼ã—ãŸã‚‰ã€åœ¨åº«åˆ‡ã‚Œã£ã¦è¨€ã‚ã‚Œã¦ã­ã‡ã€ã¨è¨€ã£ã¦ã„ãŸã‚Šã€‚</p>

<p>ã‚¯ãƒ©ã‚¦ãƒ‰ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®æ¦‚å¿µã¯é›²ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ãã®å‘ã“ã†ã«ã¯ç‰©ç†ãƒªã‚½ãƒ¼ã‚¹ãŒã‚ã‚‹ã‚ã‘ã§ã€ç„¡é™ã¨ã„ã†ã®ã¯ã€æ®‹å¿µãªãŒã‚‰ç„¡ç†ãŒã‚ã‚Šã¾ã™ã€‚</p>

<p>ç©ºã„ã¦ã„ã‚‹ã¨ãã‚‚ã‚ã‚Œã°ã€ç©ºã„ã¦ã„ãªã„æ™‚ã‚‚ã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€äº‹æ¥­è€…ã«ã‚ˆã£ã¦ã€ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã®ã‚¹ã‚¿ãƒ³ã‚¹ã¯é•ã„ã¾ã™ã€‚è¦æ¨¡ã‚‚é•ã„ã¾ã™ã€‚</p>

<h3 id="ç©ºãçŠ¶æ³ã‚’å…¬é–‹ã™ã‚‹ã¨é¢ç™½ã„ã‹ã‚‚çŸ¥ã‚Œãªã„:541a755ba62f6cb5bf4c824c3fbd2582">ç©ºãçŠ¶æ³ã‚’å…¬é–‹ã™ã‚‹ã¨é¢ç™½ã„ã‹ã‚‚çŸ¥ã‚Œãªã„</h3>

<p>é§è»Šå ´ã®ç©ºãçŠ¶æ³ãŒã‚ã‹ã‚‹è¡—ãŒã‚ã‚Šã¾ã™ã€‚ä¾¿åˆ©ã§ã™ã€‚æœ€è¿‘ã¯Webã§ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã®ç©ºããŒã‚ã‹ã‚‹<a href="http://www.opentable.jp/default.aspx">ã‚µãƒ¼ãƒ“ã‚¹</a>ã‚‚ã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¾ãŸä¾¿åˆ©ã€‚</p>

<p>ã¾ãŸã€éœ‡ç½ä»¥é™ã€é›»åŠ›ã®éœ€çµ¦çŠ¶æ³ãŒå¯è¦–åŒ–ã•ã‚Œã¾ã—ãŸã€‚ã©ã®ãã‚‰ã„ä½™è£•ãŒã‚ã‚‹ã‹ã€ã‚’æ„è­˜ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ä¾¿åˆ©ã¨ã„ã†è©±ã§ã¯ãªã„ã§ã™ãŒã€ãƒªã‚½ãƒ¼ã‚¹ã®ç©ºãã‚’æ„è­˜ã—ã¦ç”Ÿæ´»ã—ã¦ã„ã‚‹ã€èº«è¿‘ãªä¾‹ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚</p>

<p>ãã“ã§ã€ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã§ã‚‚ã€ãƒªã‚½ãƒ¼ã‚¹ã®ç©ºãçŠ¶æ³ã‚’å…¬é–‹ã™ã‚‹ã¨é¢ç™½ã„ã®ã«ãªãã€ã¨æ€ã†ã®ã§ã™ã€‚ã§ã‚‚ã‚ãŸã—ã¯ã€ãã®ã‚ˆã†ãªã‚µãƒ¼ãƒ“ã‚¹ã‚’è¦‹ãŸã“ã¨ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>

<p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ¤æ–­ã™ã‚‹æƒ…å ±ã«ãªã‚Šã¾ã™ã—ã€é›»åŠ›äº‹æ¥­è€…é–“ã§é›»åŠ›ã‚’ã‚„ã‚Šã¨ã‚Šã—ã¦ã„ã‚‹ã‚ˆã†ã«ã€äº‹æ¥­è€…é–“ã§ãƒªã‚½ãƒ¼ã‚¹ã‚’èé€šã™ã‚‹ã‚ˆã†ãªã€æ–°ã—ã„ä»•çµ„ã¿ã«ã¤ãªãŒã‚‹æ°—ã‚‚ã—ã¾ã™ã€‚</p>

<p>ãƒ“ã‚¸ãƒã‚¹ä¸Šã€é›£ã—ã„ã“ã¨ã¯é‡ã€…æ‰¿çŸ¥ã§æ›¸ã„ã¦ã„ã¾ã™ã€‚ã§ã‚‚ã€ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ãŒæœ¬å½“ã«ã€Œãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã€ã‚’ç›®æŒ‡ã™ã®ãªã‚‰ã€ã„ã¤ã‹å•ã‚ã‚Œã‚‹èª²é¡Œã§ã¯ãªã„ã‹ã¨ã€‚</p>

<p>ã¿ãªã•ã‚“ã¯ã€ã©ã†æ€ã‚ã‚Œã¾ã™ã‹?</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">27 Mar 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://torumakabe.github.io/post/OpenStack-primer/" class="post-title">OpenStackè¶…å…¥é–€ã‚·ãƒªãƒ¼ã‚º</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<h3 id="åŸºæœ¬çš„ãªè³ªå•ãŒå¢—ãˆã¦ããŸ:fec58f188036762a83cb33b4dfa34673">åŸºæœ¬çš„ãªè³ªå•ãŒå¢—ãˆã¦ããŸ</h3>

<p>OpenStackerã¨ã„ã†ã¨ã€ã“ã‚Œã¾ã§ã¯OpenStackç’°å¢ƒã‚’ã€Œä½œã‚‹ã€äººãŒå¤šã‹ã£ãŸã‚ã‘ã§ã™ãŒã€æœ€è¿‘ã€Œä½¿ã†ã€äººãŒå¢—ãˆã¦ããŸæ°—ãŒã—ã¾ã™ã€‚ãªãœã‹ã¨ã„ã†ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ç›®ç·šã§ã®åŸºæœ¬çš„ãªè³ªå•ãŒå¢—ãˆã¦ããŸã‹ã‚‰ã§ã™ã€‚ã“ã‚Œã¯ã„ã„å‚¾å‘ã€‚</p>

<h3 id="ã‚ˆãèã‹ã‚Œã‚‹ã“ã¨ã¯ã¾ã¨ã‚ã¦ãŠã“ã†:fec58f188036762a83cb33b4dfa34673">ã‚ˆãèã‹ã‚Œã‚‹ã“ã¨ã¯ã¾ã¨ã‚ã¦ãŠã“ã†</h3>

<p>ã‚‚ã¡ã‚ã‚“æ°—è»½ã«è³ªå•ã—ã¦ã„ãŸã ããŸã„ã®ã§ã™ãŒã€ã‚°ã‚°ã£ã¦ã™ãè¦‹ã¤ã‹ã£ãŸã»ã†ãŒã„ã„ã®ã§ã€ä»Šå¾Œã€ã‚ˆãèã‹ã‚Œã‚‹ã“ã¨ã¯è³‡æ–™ã«ã¾ã¨ã‚ã¦ãŠã“ã†ã‹ã¨æ€ã„ã¾ã™ã€‚</p>

<p>ç¬¬ä¸€å¼¾
<a href="http://www.slideshare.net/ToruMakabe/openstack-nova">OpenStackè¶…å…¥é–€ã‚·ãƒªãƒ¼ã‚º ã„ã¾ã•ã‚‰èã‘ãªã„ Novaã®ãƒ‡ã‚£ã‚¹ã‚¯å‘¨ã‚Š</a></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">23 Mar 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://torumakabe.github.io/post/swift-upload/" class="post-title">OpenStack Swiftã¸ã®ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<h3 id="swiftã¸-ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã—ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹:a57d4690b9ff7b620d3e3f40a88fa609">Swiftã¸ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã—ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹</h3>

<p>ä»Šé€±å¶ç„¶ã«ã‚‚ã€ä½•åº¦ã‹è³ªå•ã•ã‚ŒãŸã‚Šã€Twitterã®TLã«ã“ã®è©±é¡ŒãŒæµã‚Œã¦ãŸã‚Šã€‚ã‚‚ã—ã‹ã—ãŸã‚‰ä¸–ã®é–¢å¿ƒãŒé«˜ã„è©±é¡Œã‹ã‚‚ã—ã‚Œãªã„ã®ã§ã€ã¾ã¨ã‚ã¦ãŠãã¾ã™ã€‚</p>

<h3 id="ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å½¢å¼ã¯å¤§ãã3ã¤-ãã®ã¾ã¾-dlo-slo:a57d4690b9ff7b620d3e3f40a88fa609">ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å½¢å¼ã¯å¤§ãã3ã¤ &ndash; ãã®ã¾ã¾ã€DLOã€SLO</h3>

<ol>
<li>ãã®ã¾ã¾ã€ãƒ•ã‚¡ã‚¤ãƒ«ã«æ‰‹ã‚’åŠ ãˆãšã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚ã“ã®å ´åˆã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã®ä¸Šé™ã¯5GBã§ã™ã€‚5GBã‚’è¶…ãˆã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å ´åˆã€å¾Œè¿°ã®DLOã€SLOã©ã¡ã‚‰ã‹ã®å½¢å¼ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</li>
<li>DLO(Dynamic Large Object)å½¢å¼ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä»»æ„ã®ã‚µã‚¤ã‚ºã«åˆ†å‰²ã—ã€Swiftä¸Šã§1ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«è¦‹ã›ã‹ã‘ã¾ã™ã€‚ã€ŒæŒ‡å®šã®ã‚³ãƒ³ãƒ†ãƒŠ/ç–‘ä¼¼ãƒ•ã‚©ãƒ«ãƒ€ä¸‹ã«ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’çµåˆã™ã‚‹ã€ã¨ã„ã†ãƒ«ãƒ¼ãƒ«ãªã®ã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ‰‹é †ãŒã‚·ãƒ³ãƒ—ãƒ«ã§ã™ã€‚ã¾ãŸã€å¾Œã‹ã‚‰ã®ã‚»ã‚°ãƒ¡ãƒ³ãƒˆè¿½åŠ /å‰Šé™¤ãŒå®¹æ˜“ã§ã™ã€‚</li>
<li>SLO(Static Large Object)å½¢å¼ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä»»æ„ã®ã‚µã‚¤ã‚ºã«åˆ†å‰²ã—ã€Swiftä¸Šã§1ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«è¦‹ã›ã‹ã‘ã¾ã™ã€‚åˆ†å‰²ã‚»ã‚°ãƒ¡ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒãƒƒã‚·ãƒ¥å€¤ã‚’ãƒªã‚¹ãƒˆã—ãŸã€ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆãŒå¿…è¦ã§ã™ã€‚Swiftä¸Šã§ãƒãƒƒã‚·ãƒ¥ã®ãƒã‚§ãƒƒã‚¯ãŒè¡Œã‚ã‚Œã‚‹ãŸã‚ã€ãƒ‡ãƒ¼ã‚¿ã®å®Œå…¨æ€§ãŒDLOã‚ˆã‚Šé«˜ã„ã§ã™ã€‚ã¾ãŸã€ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚’ä»»æ„ã®ã‚³ãƒ³ãƒ†ãƒŠã«åˆ†æ•£ã§ãã‚‹ãŸã‚ã€è² è·åˆ†æ•£ã®æ‰‹æ®µãŒå¢—ãˆã¾ã™ã€‚</li>
</ol>

<h3 id="å‹•ãã‚’è¦‹ã¦ã¿ã‚ˆã†:a57d4690b9ff7b620d3e3f40a88fa609">å‹•ãã‚’è¦‹ã¦ã¿ã‚ˆã†</h3>

<p>ç’°å¢ƒã¯ä»¥ä¸‹ã®é€šã‚Šã€‚</p>

<ul>
<li>HP Public Cloud US-West Region</li>
<li>Swift Clientã‚’å‹•ã‹ã™Compute Node &ndash; standard.large / ubuntu 12.04</li>
<li>Swift CLI &ndash; 2.0.3</li>
<li>ç´„900MBã‚ã‚‹ubuntu desktopã®isoãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</li>
</ul>

<h4 id="ãã®ã¾ã¾ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰:a57d4690b9ff7b620d3e3f40a88fa609">ãã®ã¾ã¾ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</h4>

<pre><code>$time swift -v upload mak-cont ./ubuntu-13.10-desktop-amd64.iso --object-name non-seg.iso
No handlers could be found for logger &quot;keystoneclient.httpclient&quot;
non-seg.iso

real    0m24.557s
user    0m12.617s
sys 0m11.197s
</code></pre>

<p>ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒç„¡ã„ã¨ã‹æ€’ã‚‰ã‚Œã¾ã—ãŸãŒã€åˆ¥äº‹æ¡ˆãªã®ã§æ°—ã«ã›ãšã«ã„ãã¾ã—ã‚‡ã†ã€‚ãã®ã¾ã¾é€ã‚‹ã¨ã€25ç§’ãã‚‰ã„ã€‚</p>

<pre><code>$curl -H &quot;X-Auth-Token: hoge&quot; -I https://region-a.geo-1.objects.hpcloudsvc.com/v1/fuga/mak-cont/non-seg.iso

HTTP/1.1 200 OK
Content-Length: 925892608
Content-Type: application/x-iso9660-image
Accept-Ranges: bytes
Last-Modified: Sun, 23 Mar 2014 01:16:53 GMT
Etag: 21ec41563ff34da27d4a0b56f2680c4f
X-Timestamp: 1395537413.17419
X-Object-Meta-Mtime: 1381950899.000000
X-Trans-Id: txfee207024dd04bd599292-00532e3c5e
Date: Sun, 23 Mar 2014 01:43:58 GMT
</code></pre>

<p>ãƒ˜ãƒƒãƒ€ã¯ã“ã‚“ãªæ„Ÿã˜ã€‚</p>

<h4 id="dloå½¢å¼ã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰:a57d4690b9ff7b620d3e3f40a88fa609">DLOå½¢å¼ã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</h4>

<pre><code>$time swift -v upload mak-cont ./ubuntu-13.10-desktop-amd64.iso --object-name dlo.iso --segment-size 104857600
No handlers could be found for logger &quot;keystoneclient.httpclient&quot;
dlo.iso segment 0
dlo.iso segment 5
dlo.iso segment 1
dlo.iso segment 2
dlo.iso segment 3
dlo.iso segment 4
dlo.iso segment 8
dlo.iso segment 7
dlo.iso segment 6
dlo.iso

real    0m11.568s
user    0m7.960s
sys 0m4.448s
</code></pre>

<p>Swift CLIãŒå„ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚’100MBã«åˆ†å‰²ã—ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ã„ã¾ã™ã€‚ä¸¦åˆ—ã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ã„ã‚‹ã®ã§ã€
åˆ†å‰²ã—ãªã„å ´åˆã¨ãã‚‰ã¹ã¦è»¢é€æ™‚é–“ã¯åŠåˆ†ä»¥ä¸‹ã§ã™ã€‚è»¢é€æ™‚é–“ã‚’é‡è¦–ã™ã‚‹ãªã‚‰ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒ5GBä»¥ä¸‹ã§ã‚‚åˆ†å‰²ã¯æœ‰ç”¨ã§ã™ã€‚</p>

<pre><code>$curl -H &quot;X-Auth-Token: hoge&quot; -I https://region-a.geo-1.objects.hpcloudsvc.com/v1/fuga/mak-cont/dlo.iso
HTTP/1.1 200 OK
Content-Length: 925892608
X-Object-Meta-Mtime: 1381950899.000000
Accept-Ranges: bytes
X-Object-Manifest: mak-cont_segments/dlo.iso/1381950899.000000/925892608/104857600/
Last-Modified: Sun, 23 Mar 2014 01:22:25 GMT
Etag: &quot;7085388575f90df99531b60f9d9b1291&quot;
X-Timestamp: 1395537755.32458
Content-Type: application/x-iso9660-image
X-Trans-Id: txd90ac8f8f6a64c749de2f-00532e3c6f
Date: Sun, 23 Mar 2014 01:44:15 GMT
</code></pre>

<p>X-Object-Manifestã¨ã„ã†å±æ€§ãŒã€ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåŒ–ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ç½®ãå ´æ‰€ã‚’æŒ‡ã—ã¦ã„ã¾ã™ã€‚</p>

<h4 id="sloå½¢å¼ã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰:a57d4690b9ff7b620d3e3f40a88fa609">SLOå½¢å¼ã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</h4>

<pre><code>$time swift -v upload mak-cont ./ubuntu-13.10-desktop-amd64.iso --object-name slo.iso --segment-size 104857600 --use-slo
No handlers could be found for logger &quot;keystoneclient.httpclient&quot;
slo.iso segment 3
slo.iso segment 7
slo.iso segment 1
slo.iso segment 4
slo.iso segment 8
slo.iso segment 0
slo.iso segment 5
slo.iso segment 2
slo.iso segment 6
slo.iso

real    0m12.039s
user    0m8.189s
sys 0m4.820s
</code></pre>

<p>è»¢é€æ™‚é–“ã¯DLOã¨åŒç­‰ã§ã™ã€‚Swift CLIã‚’ä½¿ã†å ´åˆã¯ &ndash;use-sloã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹ã ã‘ãªã®ã§ã€ãƒ‡ãƒ¼ã‚¿å®Œå…¨æ€§ã®è¦³ç‚¹ã‹ã‚‰SLOãŒãŠã™ã™ã‚ã§ã™ã€‚</p>

<pre><code>$curl -H &quot;X-Auth-Token: hoge&quot; -I https://region-a.geo-1.objects.hpcloudsvc.com/v1/fuga/mak-cont/slo.iso
HTTP/1.1 200 OK
Content-Length: 925892608
X-Object-Meta-Mtime: 1381950899.000000
Accept-Ranges: bytes
Last-Modified: Sun, 23 Mar 2014 01:24:08 GMT
Etag: &quot;7085388575f90df99531b60f9d9b1291&quot;
X-Timestamp: 1395537859.11815
X-Static-Large-Object: True
Content-Type: application/x-iso9660-image
X-Trans-Id: tx6cec436f525f4eb89dcfc-00532e3c7b
Date: Sun, 23 Mar 2014 01:44:27 GMT
</code></pre>

<p>X-Static-Large-Objectå±æ€§ãŒTrueã«ãªã‚Šã¾ã—ãŸã€‚</p>

<p>å‚è€ƒæƒ…å ±
- <a href="http://docs.openstack.org/developer/swift/overview_large_objects.html">Swift Documentaion &ndash; Large Object Support</a>
- <a href="https://docs.hpcloud.com/api/object-storage/#large_objects-jumplink-span">HP Cloud Object Storage API Reference</a></p>

                    </div>
                </section>
                
            </div>
            
<div class="pagination">
  <nav role="pagination" class="post-list-pagination">
      
      <a href="/post/page/6/" class="post-list-pagination-item pure-button post-list-pagination-item-prev">
        <i class="fa fa-angle-double-left"></i>&nbsp;Newer
      </a>
      
    <span class="post-list-pagination-item post-list-pagination-item-current">Page 7 of 8</span>
    
      <a href="/post/page/8/" class="post-list-pagination-item pure-button post-list-pagination-item-next">
        Older&nbsp;<i class="fa fa-angle-double-right"></i>
      </a>
    
  </nav>
</div>


            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="http://hugo.spf13.com/" target="_blank">hugo</a></li>
        </ul>
    </div>
</div>
<script src="http://torumakabe.github.io//js/all.min.js"></script>
        </div>
    </div>
</div>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', '', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>
